(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){e.exports=a(281)},131:function(e,t,a){},281:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(45),c=a.n(s),o=a(18),u=a(117),d=a(12),i=(a(131),a(5)),l=a(10),m=a.n(l),p=a(32),E=a(119),f=a.n(E).a.create({baseURL:"https://reqres.in/api/"}),v=function(){return function(e){e({type:"HIDE_FORM",payload:!1})}},y=function(){return function(e){e({type:"CLEAR_INDEX",payload:void 0})}},_=function(){return function(e){e({type:"CLEAR_MODE",payload:null})}},b=a(27),x=a(33),O=Object(b.c)({mapPropsToValues:function(e){return{first_name:e.first_name,last_name:e.last_name,avatar:e.avatar,id:e.id}},validationSchema:x.object().shape({first_name:x.string().required("required"),last_name:x.string().required("required"),avatar:x.string().required("required")}),handleSubmit:function(e,t){var a=t.resetForm,r=t.setErrors;t.setSubmitting;""!==e.first_name&&""!==e.last_name&&""!==e.avatar?a():r({first_name:"required"})}})(function(e){var t=e.touched,a=e.errors,r=e.values,s=e.hideForm,c=(e.state,e.newUsersEdit),o=e.users,u=e.userIndexToEdit,d=e.clearIndex,l=e.clearMode,m=e.newUsersAdd,p=e.writeMode,E=Object(i.a)(o);console.log(a);return console.log(r),n.a.createElement(b.b,{className:"form"},n.a.createElement("p",null,"FIRST NAME"),t.first_name&&a.first_name&&n.a.createElement("p",{className:"required"},a.first_name),n.a.createElement(b.a,{type:"text",name:"first_name",placeholder:"First Name"}),n.a.createElement("p",null,"LAST NAME"),t.last_name&&a.last_name&&n.a.createElement("p",{className:"required"},a.last_name),n.a.createElement(b.a,{type:"text",name:"last_name",placeholder:"Last Name"}),n.a.createElement("p",null,"Avatar URL"),t.avatar&&a.avatar&&n.a.createElement("p",{className:"required"},a.avatar),n.a.createElement(b.a,{type:"text",name:"avatar",placeholder:"Avatar URL"}),n.a.createElement("button",{onClick:function(){return function(e){if(""==r.first_name||""==r.last_name||""==r.avatar)return null;"edit_mode"===p?c(E,e,u,r,s):"add_mode"===p&&m(E,r,s),s(),d(),l()}(r.id)}},"SUBMIT"))}),h=Object(d.b)(function(e){return{state:e.formDisplayReducer,users:e.usersReducer.users,userIndexToEdit:e.editUserReducer.userIndexToEdit,writeMode:e.editUserReducer.writeMode}},{hideForm:v,newUsersEdit:function(e,t,a,r,n){var s="users".concat(t),c=Object(i.a)(e);return c[a]=r,function(){var e=Object(p.a)(m.a.mark(function e(t){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.put(s,c);case 2:return a=e.sent,e.next=5,t({type:"NEW_USERS_EDIT",payload:a.data});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},clearIndex:y,newUsersAdd:function(e,t,a){var r=Object(i.a)(e);return function(){var e=Object(p.a)(m.a.mark(function e(a){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.push(t);case 2:return e.next=4,f.post("users",r);case 4:return n=e.sent,e.next=7,a({type:"NEW_USERS_ADD",payload:n.data});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},clearMode:_})(O);var I=Object(d.b)(function(e){return{state:e.formDisplayReducer,allUsers:e.usersReducer,userIndexToEdit:e.editUserReducer.userIndexToEdit,writeMode:e.editUserReducer.writeMode}},{hideForm:v,clearIndex:y})(function(e){console.log(e.userIndexToEdit);var t=e.state.display?"show":"hide",a=e.allUsers.users.length+1;return console.log(a),n.a.createElement("div",{"data-name":"parent",className:"form-wrapper-fixed "+t,onClick:function(t){"parent"===t.target.dataset.name&&(e.hideForm(),e.clearIndex())}},n.a.createElement("div",{className:"form-container"},void 0!=e.userIndexToEdit&&"edit_mode"===e.writeMode?n.a.createElement(h,{first_name:e.allUsers.users[e.userIndexToEdit].first_name,last_name:e.allUsers.users[e.userIndexToEdit].last_name,avatar:e.allUsers.users[e.userIndexToEdit].avatar,id:e.allUsers.users[e.userIndexToEdit].id}):void 0===e.userIndexToEdit&&"add_mode"===e.writeMode?n.a.createElement(h,{first_name:"",last_name:"",avatar:"",id:a}):null,n.a.createElement("div",{className:"close-form",onClick:function(){e.hideForm(),e.clearIndex()}},"X")))});var w=Object(d.b)(function(e){return{state:e.usersReducer,userIndexToEdit:e.editUserReducer.userIndexToEdit,isDelete:e.editUserReducer.isDelete}},{usersAction:function(){return function(){var e=Object(p.a)(m.a.mark(function e(t){var a,r,n,s,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get("users?page=1");case 2:return a=e.sent,e.next=5,f.get("users?page=2");case 5:return r=e.sent,e.next=8,f.get("users?page=3");case 8:return n=e.sent,e.next=11,f.get("users?page=4");case 11:s=e.sent,c=[].concat(Object(i.a)(a.data.data),Object(i.a)(r.data.data),Object(i.a)(n.data.data),Object(i.a)(s.data.data)),t({type:"USERS_FETCH",payload:c});case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},showForm:function(){return function(e){e({type:"SHOW_FORM",payload:!0})}},getIndex:function(e){return function(t){t({type:"USER_INDEX",payload:e})}},clearIndex:y,editMode:function(){return function(e){e({type:"EDIT_MODE",payload:"edit_mode"})}},addMode:function(){return function(e){e({type:"ADD_MODE",payload:"add_mode"})}},deleteUser:function(e,t){var a=Object(i.a)(e);return a.splice(t,1),function(){var e=Object(p.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.delete("users/2");case 2:204===e.sent.status&&t({type:"DELETE_USER",payload:a});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(function(e){Object(r.useEffect)(function(){e.usersAction()},[]);var t=Object(i.a)(e.state.users),a="show-delete-btn";a=e.state.users.length<2?"hide-delete-btn":"show-delete-btn";var s=e.state.users.length>0?e.state.users.map(function(r,s){return n.a.createElement("div",{className:"main-container-items",key:s},n.a.createElement("div",{className:"itemsinfo"},n.a.createElement("img",{src:r.avatar,alt:""}),n.a.createElement("p",null,n.a.createElement("strong",null,"First Name:")," ",r.first_name),n.a.createElement("p",null,n.a.createElement("strong",null,"Last Name:")," ",r.last_name),n.a.createElement("div",{onClick:function(){return a=s,void(window.confirm("Delete user?")&&(e.deleteUser(t,a),console.log(e.isDelete)));var a},className:"close-btn "+a},"X")),n.a.createElement("div",{onClick:function(){return function(t){e.showForm(),e.getIndex(t),e.editMode()}(s)},className:"edit-btn "},"EDIT"))}):n.a.createElement("p",null,"loading...");return n.a.createElement(r.Fragment,null,n.a.createElement(I,null),n.a.createElement("div",{className:"topbar"},"User Management System",n.a.createElement("button",{className:"add-btn",onClick:function(){e.showForm(),e.clearIndex(),e.addMode()}},"Add user")),n.a.createElement("div",{className:"main-container"},s))}),D=a(3),R={display:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_FORM":case"HIDE_FORM":return Object(D.a)({},e,{display:t.payload});default:return e}},U={users:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;return"USERS_FETCH"===t.type?Object(D.a)({},e,{users:t.payload}):"NEW_USERS_ADD"===t.type?Object(D.a)({},e,{users:t.payload}):"NEW_USERS_EDIT"===t.type?Object(D.a)({},e,{users:t.payload}):"DELETE_USER"===t.type?Object(D.a)({},e,{users:t.payload}):e},M={users:[],userIndexToEdit:null,writeMode:null,userData:null,isDelete:!1},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;return"EDIT_USER"===t.type?Object(D.a)({},e,{users:t.payload}):"USER_INDEX"===t.type?Object(D.a)({},e,{userIndexToEdit:t.payload}):"CLEAR_INDEX"===t.type?Object(D.a)({},e,{userIndexToEdit:t.payload}):"CLEAR_MODE"===t.type?Object(D.a)({},e,{writeMode:t.payload}):"EDIT_MODE"===t.type?Object(D.a)({},e,{writeMode:t.payload}):"ADD_MODE"===t.type?Object(D.a)({},e,{writeMode:t.payload}):e},N=Object(o.c)({formDisplayReducer:g,usersReducer:j,editUserReducer:T}),S=Object(o.d)(N,Object(o.a)(u.a));c.a.render(n.a.createElement(d.a,{store:S},n.a.createElement(w,null)),document.querySelector("#root"))}},[[123,1,2]]]);
//# sourceMappingURL=main.7dfc0dd3.chunk.js.map